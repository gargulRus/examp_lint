<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/index.css">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header__container">
                <!-- <nav>
                    <div class="header__navbar">
                        <div class="header__container-nav">
                            <input class="header__navbar-checkbox" type="checkbox" name="" id="" />
                            <div class="header__navbar_hamburger-lines">
                                <span class="line line1"></span>
                                <span class="line line2"></span>
                                <span class="line line3"></span>
                            </div>  
                            <div class="header__logo">
                                <h1>
                                    <a href="" class="header__link-logo">МГ-отдел</a>
                                </h1>
                              </div>
                            <div class="header__navbar_menu-items">
                                <ul class="navbar__list">
                                    <li class="navbar__item">
                                        <button id="first-menu" class="button navbar-link navbar__link-table" onclick="openbox('menu-table'); return false">Сводная таблица</button>
                                    </li>
                                    <li class="navbar__item">
                                        <button id="second-menu" class="button navbar-link navbar__link-base" onclick="openbox('menu-base'); return false">Работа с базой</button>
                                    </li>
                                    <li class="navbar__item">
                                        <button id="third-menu" class="button navbar-link navbar__link-obj" onclick="openbox('menu-obj'); return false">Объекты</button>
                                    </li>
                                    <li class="navbar__item">
                                        <button id="fourth-menu" class="button navbar-link navbar__link-change" onclick="openbox('menu-change'); return false">Изменения</button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </nav> -->
                <div id="menu">
                    <button class="c-hamburger c-hamburger-line">
                        <span class="c-span">Menu</span>
                    </button>
                    <ul class="navbar__list">
                        <li class="navbar__item">
                            <button id="first-menu" class="button navbar-link navbar__link-table" onclick="openbox('menu-table'); return false">Сводная таблица</button>
                        </li>
                        <li class="navbar__item">
                            <button id="second-menu" class="button navbar-link navbar__link-base" onclick="openbox('menu-base'); return false">Работа с базой</button>
                        </li>
                        <li class="navbar__item">
                            <button id="third-menu" class="button navbar-link navbar__link-obj" onclick="openbox('menu-obj'); return false">Объекты</button>
                        </li>
                        <li class="navbar__item">
                            <button id="fourth-menu" class="button navbar-link navbar__link-change" onclick="openbox('menu-change'); return false">Изменения</button>
                        </li>
                    </ul>
                </div>
            </div>
        </header>
        <main class="main">
            <div class="main__container">
                <div id="menu-table" class="main__menu" style="display:none;">
                    <h2 class="subtitle">
                        Сводная таблица Объектов
                    </h2>
                    <div class="main__menu__container">
                        <!-- <button id="table-ajax_2016" class="main__btn button">2016</button>
                        <button id="table-ajax_2017" class="main__btn button">2017</button>
                        <button id="table-ajax_2018" class="main__btn button">2018</button>
                        <button id="table-ajax_2019" class="main__btn button">2019</button>
                        <button id="table-ajax_2020" class="main__btn button">2020</button>
                        <button id="table-ajax_2021" class="main__btn button">2021</button>
                        <button id="table-ajax_2022" class="main__btn button">2022</button> -->
                        <button id="year_btn" data-id = "ident_in_base_1" class="main__btn button year_btn">2016</button>
                        <button id="year_btn" data-id = "ident_in_base_2" class="main__btn button year_btn">2017</button>
                        <button id="year_btn" data-id = "ident_in_base_3" class="main__btn button year_btn">2018</button>
                        <button id="year_btn" data-id = "ident_in_base_4" class="main__btn button year_btn">2019</button>
                        <button id="year_btn" data-id = "ident_in_base_5" class="main__btn button year_btn">2020</button>
                        <button id="year_btn" data-id = "ident_in_base_6" class="main__btn button year_btn">2021</button>
                        <button id="year_btn" data-id = "ident_in_base_7" class="main__btn button year_btn">2022</button>
                        <button id="year_btn" data-id = "ident_in_base_8" class="main__btn button year_btn">2023</button>
                        <div id="menu-table-ajax_2016" class="main__menu__table-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-table-ajax_2017" class="main__menu__table-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-table-ajax_2018" class="main__menu__table-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-table-ajax_2019" class="main__menu__table-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-table-ajax_2020" class="main__menu__table-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-table-ajax_2021" class="main__menu__table-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-table-ajax_2022" class="main__menu__table-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <br>
                        <div id="ajaxContent" class="main__menu__table">Тут загрузим контент</div>
                    </div>
                </div>
                <div id="menu-base" class="main__menu" style="display:none;">
                    <h2 class="subtitle main-base__subtitle">
                        Работа с базой
                    </h2>
                    <p class="main__discription">Выберите действие:</p>
                    <div class="main__base__container">
                        <button id="base-ajax_add" class="main__btn button">Добавить год в базу</button>
                        <button id="base-ajax_create" class="main__btn button">Создать объект</button>
                        <button id="base-ajax_compr" class="main__btn button">Компрессорные</button>
                        <button id="base-ajax_vac" class="main__btn button">Вакуумные установки</button>
                        <button id="base-ajax_kgs" class="main__btn button">КГС</button>
                    </div>
                    
                    <div id="menu-base-ajax_add" class="main__menu__base-hidden">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, incidunt, quidem fugit dolorem nesciunt officiis qui totam tenetur impedit praesentium sit quibusdam at sapiente maxime velit voluptate quis odio quae.
                    </div>
                    <div id="menu-base-ajax_create" class="main__menu__base-hidden">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, incidunt, quidem fugit dolorem nesciunt officiis qui totam tenetur impedit praesentium sit quibusdam at sapiente maxime velit voluptate quis odio quae.
                    </div>
                    <div id="menu-base-ajax_compr" class="main__menu__base-hidden">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, incidunt, quidem fugit dolorem nesciunt officiis qui totam tenetur impedit praesentium sit quibusdam at sapiente maxime velit voluptate quis odio quae.
                    </div>
                    <div id="menu-base-ajax_vac" class="main__menu__base-hidden">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, incidunt, quidem fugit dolorem nesciunt officiis qui totam tenetur impedit praesentium sit quibusdam at sapiente maxime velit voluptate quis odio quae.
                    </div>
                    <div id="menu-base-ajax_kgs" class="main__menu__base-hidden">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, incidunt, quidem fugit dolorem nesciunt officiis qui totam tenetur impedit praesentium sit quibusdam at sapiente maxime velit voluptate quis odio quae.
                    </div>
                </div>
                <div id="menu-obj" class="main__menu" style="display:none;">
                    <h2 class="subtitle">
                        Работа с объектами
                    </h2>
                    <div class="main__menu__container">
                        <button id="obj-ajax_2016" class="main__btn button">2016</button>
                        <button id="obj-ajax_2017" class="main__btn button">2017</button>
                        <button id="obj-ajax_2018" class="main__btn button">2018</button>
                        <button id="obj-ajax_2019" class="main__btn button">2019</button>
                        <button id="obj-ajax_2020" class="main__btn button">2020</button>
                        <button id="obj-ajax_2021" class="main__btn button">2021</button>
                        <button id="obj-ajax_2022" class="main__btn button">2022</button>
                        <div id="menu-obj-ajax_2016" class="main__menu__obj-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-obj-ajax_2017" class="main__menu__obj-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-obj-ajax_2018" class="main__menu__obj-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-obj-ajax_2019" class="main__menu__obj-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-obj-ajax_2020" class="main__menu__obj-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-obj-ajax_2021" class="main__menu__obj-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                        <div id="menu-obj-ajax_2022" class="main__menu__obj-hidden">
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis nostrum, eveniet ipsum distinctio et debitis, itaque hic enim qui soluta praesentium saepe dolor a sit, illum ad officia explicabo ipsam?
                        </div>
                    </div>
                </div>
                <div id="menu-change" class="main__menu" style="display:none;">
                    <h2 class="subtitle">
                        Список изменений
                    </h2>
                    <div class="menu__select__container">
                        <div class="dropdown">
                          <input class="text-box" type="text" placeholder="Выберите объект" readonly>
                          <div class="options">
                            <div onclick="show('Беженарь')">Беженарь</div>
                            <div onclick="show('Матюкова')">Матюкова</div>
                          </div>
                        </div>
                      </div>
                      <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
                      <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
                </div>
            </div>
        </main>
    </div>

    <script src="./js/index.js"></script>

    <script>
        //Универсальная функция ajax
        function ajaxSend(param1) {
            //получили div в который загрузим контент от запроса
            let ajaxLoad = document.getElementById('ajaxContent');
            //Создаем объект асинхронного запроса
            let request = new XMLHttpRequest();
            //путь до php-скрипта, который нам ответит
            const url = "./ajax/ajaxresponce.php";
            // что передадим в запросе
            // Здесь arguments - массив элементов переданных в функцию
            // формируем тело POST запроса
            let params = "baseid=" + arguments[0];
            //Открыли запрос на сервер - true - асинхронный, false - синхронный
            request.open("POST", url, true);
            //Послали заголовки
            request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            //Отправили POST
            request.send(params);
            //Ждем что вернет сервер
            request.onreadystatechange = function() {
                //если все хорошо вернется код 4
                if(request.readyState === 4) {
                    ajaxLoad.style.border = '1px solid #e8e8e8';
                    //если ошибок небыло и получен код 200
                    if(request.status === 200) { 
                        ajaxLoad.innerHTML = request.responseText;
                    } else {
                        //если случилась какая-то беда
                        ajaxLoad.innerHTML = 'An error occurred during your request: ' +  request.status + ' ' + request.statusText;
                    } 
                }
            }
        }


        //получили массив кнопок
        let elements = document.getElementsByClassName('year_btn');
        //На каждую кнопку в массиве вешаем функцию на клик.
        for (let elem of elements) {
          elem.onclick = function() {ajaxSend(this.dataset.id)};
        }
      </script>
</body>
</html>